INSERT INTO pessoa (id,login,nome,password,role) VALUES('502cb9d2-6137-45f3-a0fa-3ed710dac554','samuel','Samuel Alcantara','$2a$10$pH0gJoO3oZgOwBCFzcb23eb5lTgtTJHLKlmyzp6ViiEbFy2tdKhYy',1);
INSERT INTO pessoa (id,login,nome,password,role) VALUES('8f0086ea-853d-43fb-a976-c2c7ecc471d3','lucas','Lucas Matheus','$2a$10$aW.0GEEo/LbWzdX2V0FvZu5JFCOymZD6TQo/9a1lmsTGFpDbRJadK',1);
INSERT INTO pessoa (id,login,nome,password,role) VALUES('dbb0b1dc-ac46-4d7f-9ac3-83fcc899df59','mota','Thiago Mota','123',1);
INSERT INTO pessoa (id,login,nome,password,role) VALUES('2bd5a4c3-d15b-4b84-bdae-157b9c2c0e1d','teteus','Matheus Florentino','teteus123',1);
INSERT INTO pessoa (id,login,nome,password,role) VALUES('3621be92-11f0-4738-83bc-7feac4bb6a3f','raniere','Fabio Raniere','fab123',1);
INSERT INTO pessoa (id,login,nome,password,role) VALUES('bf3bc54d-6b60-46af-887f-836c51666355','luiz','Luiz Gustavo','luiz123',1);

update pessoa set id_foto = '20792b6f-4188-42e8-aa9f-9738258dd3d9.png' where login = 'mota';
update pessoa set id_foto = '56a803ce-65f3-4d33-ab5a-b400d92ddcde.png' where login = 'lucas';
update pessoa set id_foto = '2efe1102-27cb-4a7b-994a-fdc155255761.png' where login = 'samuel';
update pessoa set id_foto = '1041d6e9-613c-4772-873f-96e34ad66986.png' where login = 'teteus';
update pessoa set id_foto = '52d1f410-91df-4e95-84e7-3d67b2d3bb95.png' where login = 'raniere';
update pessoa set id_foto = '18174167-c3d3-46a1-aafd-5821b24e872f.png' where login = 'luiz';

INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (1,replace(replace('DECLARE    -- Esse curso deve ter as notas que devem ser reenviadas, então você tem que por a sua própria lógica\r\n    Cursor c_config_mvintegra is\r\n      SELECT * FROM dbamv.nota_fiscal WHERE dt_emissao >= To_Date(''26/01/2024'',''dd/MM/YYYY'') AND ds_retorno_nfe like ''%Certificado%'' AND cd_status_nfe <> ''P'' AND cd_multi_empresa = 3 AND cd_status=''E'';\r\n    vIndex NUMBER := 0;\r\n    vIntervaloCommit NUMBER := 100;\r\n\r\nBEGIN\r\n  FOR nota_i  IN c_config_mvintegra LOOP\r\n    vIndex := vIndex + 1;\r\n    dbamv.pkg_mv2000.atribui_empresa(nota_i.cd_multi_empresa);\r\n    update dbamv.nota_fiscal\r\n        set CD_NOTA_FISCAL_INTEGRA = null\r\n            , CD_SEQ_INTEGRA = null\r\n              , DT_INTEGRA = null\r\n              , NR_PROTOCOLO = null\r\n              , DS_RETORNO_NFE = null\r\n              , DS_URL_NFE = null\r\n      where cd_nota_fiscal = nota_i.cd_nota_fiscal;\r\n\r\n    UPDATE dbamv.nota_fiscal\r\n      SET CD_STATUS_NFE = ''X''\r\n    WHERE cd_nota_fiscal = nota_i.cd_nota_fiscal;\r\n\r\n    UPDATE dbamv.nota_fiscal\r\n    SET CD_STATUS_NFE = ''A''\r\n        , cd_status = ''E''\r\n        , cd_tipo_situacao_nota_fiscal = 4\r\n    WHERE cd_nota_fiscal = nota_i.cd_nota_fiscal;\r\n\r\n    IF MOD(vIndex,vIntervaloCommit) = 0 THEN\r\n      COMMIT;\r\n    END IF;\r\n  END LOOP;\r\n  COMMIT;\r\nEND;\r\n','\r',char(13)),'\n',char(10)),NULL,'2025-03-24 17:55:22','Script para reenvio de notas fiscais em massa','envmassa','502cb9d2-6137-45f3-a0fa-3ed710dac554');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (2,replace(replace('DECLARE\r\n    CURSOR c_saida IS\r\n      SELECT saida.*\r\n      FROM mvintegra.imv_configuracao_saida saida\r\n      INNER JOIN mvintegra.imv_configuracao_saida_tp_doc tp_doc ON saida.cd_imv_configuracao_saida = tp_doc.cd_imv_configuracao_saida\r\n      WHERE tp_doc.tp_documento IN (''LOTE_RPS_ENVIO'', ''LOTE_RPS_CONSULTA'', ''CANCELAMENTO_RPS'')\r\n      ORDER BY saida.cd_empresa_destino;\r\n\r\n    CURSOR c_parametros(cd_saida NUMBER) IS\r\n      SELECT * FROM mvintegra.imv_configuracao_saida_param WHERE cd_imv_configuracao_saida = cd_saida;\r\n\r\n    TYPE Array_Parametros_Base IS TABLE OF VARCHAR2(70);\r\n     array_parametros Array_Parametros_Base := Array_Parametros_Base(\r\n    ''diretorio'', ''diretorioPROC'', ''url'', ''contentType'', ''soapActionUri'', ''codificacaoMensagem'', ''elementoResposta'', ''elementoProtocolo'', ''elementoProtocoloCancelamento'', ''elementoMensagem'',\r\n    ''elementoChaveacesso'', ''elementoNumeroNFSE'', ''elementoAssinatura'', ''elementoAssinaturaRaiz'', ''elementoEscape'', ''elementoUnescape'', ''elementoCdata'', ''respostaPendente'', ''respostaSucesso'',\r\n    ''identificadorCancelarPorEnvio'', ''respostaLinkNfe'', ''arquivoCertificado'', ''senhaCertificado'', ''tipoCertificado'', ''portaProxy'', ''ipProxy'', ''usuarioProxy'', ''senhaProxy'', ''tipoNotaFiscal'',\r\n    ''jsonConexaoA3'', ''tipoUri'', ''assinaturaComComments'', ''assinaturaComSubJect'', ''assinaturaComKeyValue'', ''javaHome'', ''host'', ''incluirTagTransformacaoNaTagReferenciaDaAssinaturaDigital'',\r\n    ''tagTransformacaoNaTagReferenciaDaAssinaturaDigitalComments'', ''incluirTagXPathNaTagTransformacaoDaAssinaturaDigital'', ''tagXPath2'', ''qtTentativasConexao'', ''tempoReenvio'', ''elementoComplementoNFSE'',\r\n    ''idNFC'', ''chaveNFC'', ''elementoSalvarXML'', ''tpSSL'', ''urlToken'', ''uriActionToken'', ''tagTokenResposta'', ''xmlToken'', ''tagMensagemErroValidacao'', ''elementoProtocoloCartaC'', ''elementoDtCartaC'', ''elementoProtocoloInut'',\r\n    ''elementoDtInut'', ''tempoDeVidaTokenEmSegundos'',''tokenUsuario'',''tokenSenha''  );\r\n\r\n    v_titulo NUMBER := 0;\r\nBEGIN\r\n  FOR saida_i IN c_saida LOOP\r\n    FOR param_i IN c_parametros(saida_i.cd_imv_configuracao_saida) LOOP\r\n      IF param_i.nm_parametro NOT MEMBER OF array_parametros THEN\r\n        v_titulo := v_titulo + 1;\r\n        IF v_titulo = 1 THEN\r\n            DBMS_OUTPUT.PUT_LINE(''--------------------------- PARAMETROS INVALIDOS ---------------------------'');\r\n        END IF;\r\n\r\n        DECLARE\r\n            max_similarity NUMBER := 0;\r\n            most_similar_string VARCHAR2(70);\r\n        BEGIN\r\n          FOR i IN 1..array_parametros.COUNT LOOP\r\n            DECLARE\r\n                similarity NUMBER;\r\n            BEGIN\r\n                similarity := UTL_MATCH.JARO_WINKLER_SIMILARITY(param_i.nm_parametro, array_parametros(i));\r\n                IF similarity > max_similarity THEN\r\n                    max_similarity := similarity;\r\n                    most_similar_string := array_parametros(i);\r\n                END IF;\r\n            END;\r\n          END LOOP;\r\n\r\n          IF max_similarity > 85 then\r\n            DBMS_OUTPUT.PUT_LINE(''Empresa '' || saida_i.cd_empresa_destino || '', '' || saida_i.ds_saida || '', parametro ---> ['' || param_i.nm_parametro || ''] está incorreto. Parametro VALIDO MAIS SEMELHANTE é : ['' || most_similar_string || ''] '' || max_similarity || ''%'' );\r\n          else\r\n             DBMS_OUTPUT.PUT_LINE(''Empresa '' || saida_i.cd_empresa_destino || '', '' || saida_i.ds_saida || '', parametro ---> ['' || param_i.nm_parametro || ''] está incorreto. Não há uma parâmetro válido parecido com este.'' );\r\n          END IF;\r\n        END;\r\n      END IF;\r\n    END LOOP;\r\n  END LOOP;\r\n\r\n  IF v_titulo = 0 THEN\r\n         Dbms_Output.Put_Line(''-------------------- Todos os parâmetros estão CORRETOS --------------------'');\r\n  END IF;\r\nEND;\r\n','\r',char(13)),'\n',char(10)),NULL,'2025-03-24 17:55:22','Script para checar parametros','checaparam','3621be92-11f0-4738-83bc-7feac4bb6a3f');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (3,replace(replace('SELECT * FROM mvintegra.config_mvintegra\r\n\r\nINSERT INTO mvintegra.config_mvintegra (CD_FILIAL_INTEGRA,CD_MULTI_EMPRESA,sn_ativa_integracao_agfa) VALUES(1,1,''S'');\r\n\r\nUPDATE  mvintegra.config_mvintegra  SET CD_CONFIG_MVINTEGRA  = 1  WHERE CD_MULTI_EMPRESA  = 1\r\n','\r',char(13)),'\n',char(10)),NULL,'2025-03-24 17:55:22','Script para configurar empresa','configempresa','8f0086ea-853d-43fb-a976-c2c7ecc471d3');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (4,replace(replace('DECLARE\r\n   CURSOR c_saida (vcds_saida mvintegra.imv_configuracao_saida.ds_saida%TYPE)\r\n   IS\r\n      SELECT cd_sistema_destino\r\n        FROM mvintegra.imv_configuracao_saida\r\n       WHERE ds_saida = vcds_saida;\r\n\r\n   pcd_processo_integracao   mvintegra.processo_integracao.cd_processo_integracao%TYPE;\r\n   pds_saida                 mvintegra.imv_configuracao_saida.ds_saida%TYPE;\r\n   pcd_sistema_destino       mvintegra.imv_configuracao_saida.cd_sistema_destino%TYPE;\r\nBEGIN\r\n   pcd_processo_integracao := ''IMVWSAINFSE''; /* IMVWINENTPROCON   IMVWOUTMOVESTCE  IMVWOUTMOVESTCJ */\r\n   pds_saida := ''RPS-NFSE - ENVIO DE NOTA/LOTE [BH]'';\r\n\r\n   DELETE FROM mvintegra.imv_configuracao_requisicao\r\n         WHERE cd_imv_configuracao_requisicao IN (SELECT r.cd_imv_configuracao_requisicao\r\n                                                    FROM mvintegra.imv_config_entid_xml_proc_intg i, mvintegra.imv_configuracao_requisicao r\r\n                                                   WHERE i.cd_imv_configuracao_entid_xml = r.cd_imv_configuracao_entid_xml AND i.cd_processo_integracao = pcd_processo_integracao);\r\n\r\n   DELETE FROM mvintegra.imv_configuracao_funcao_conec\r\n         WHERE cd_imv_configuracao_fnc_conec IN (SELECT r.cd_imv_configuracao_fnc_conec\r\n                                                   FROM mvintegra.imv_config_entid_xml_proc_intg i, mvintegra.imv_configuracao_funcao_conec r\r\n                                                  WHERE i.cd_imv_configuracao_entid_xml = r.cd_imv_configuracao_entid_xml AND i.cd_processo_integracao = pcd_processo_integracao);\r\n\r\n   DELETE FROM mvintegra.imv_config_entid_xml_proc_intg i\r\n         WHERE i.cd_processo_integracao = pcd_processo_integracao;\r\n\r\n   DELETE FROM mvintegra.imv_configuracao_tip_intg_cnct\r\n         WHERE cd_imv_config_tp_intg_cnct IN (SELECT r.cd_imv_config_tp_intg_cnct\r\n                                                FROM mvintegra.imv_config_entid_xml_proc_intg i, mvintegra.imv_configuracao_tip_intg_cnct r\r\n                                               WHERE i.cd_imv_configuracao_entid_xml = r.cd_imv_configuracao_entid_xml AND i.cd_processo_integracao = pcd_processo_integracao);\r\n\r\n   DELETE FROM mvintegra.imv_config_entid_xml_proc_intg i\r\n         WHERE i.cd_processo_integracao = pcd_processo_integracao;\r\n\r\n   DELETE FROM mvintegra.condicao_execucao i\r\n         WHERE i.cd_processo_integracao = pcd_processo_integracao;\r\n\r\n   DELETE FROM mvintegra.arquivo_integracao i\r\n         WHERE i.cd_processo_integracao = pcd_processo_integracao;\r\n\r\n   DELETE FROM mvintegra.job_integracao i\r\n         WHERE i.cd_processo_integracao = pcd_processo_integracao;\r\n\r\n   DELETE FROM mvintegra.coluna_integracao i\r\n         WHERE i.cd_processo_integracao = pcd_processo_integracao;\r\n\r\n   DELETE FROM mvintegra.coluna_integracao i\r\n         WHERE i.cd_processo_integracao = pcd_processo_integracao;\r\n\r\n/*DELETE FROM mvintegra.imv_mensagem_erro i\r\n         WHERE i.cd_processo_integracao = pcd_processo_integracao;  */\r\n\r\n   DELETE FROM mvintegra.processo_integracao i\r\n         WHERE i.cd_processo_integracao = pcd_processo_integracao;\r\n\r\n   IF (pds_saida IS NOT NULL)\r\n   THEN\r\n      OPEN c_saida(pds_saida);\r\n      FETCH c_saida INTO pcd_sistema_destino;\r\n      CLOSE c_saida;\r\n\r\n      DELETE FROM mvintegra.imv_configuracao_saida_param\r\n            WHERE cd_imv_configuracao_saida IN (SELECT cd_imv_configuracao_saida\r\n                                                  FROM mvintegra.imv_configuracao_saida\r\n                                                 WHERE ds_saida = pds_saida);\r\n\r\n      DELETE FROM mvintegra.imv_configuracao_saida_tp_doc\r\n            WHERE cd_imv_configuracao_saida IN (SELECT cd_imv_configuracao_saida\r\n                                                  FROM mvintegra.imv_configuracao_saida\r\n                                                 WHERE ds_saida = pds_saida);\r\n\r\n      DELETE FROM mvintegra.imv_configuracao_saida\r\n            WHERE ds_saida = pds_saida;\r\n\r\n      DELETE FROM mvintegra.sistema_terceiro\r\n            WHERE ds_sistema_terceiro = pcd_sistema_destino;\r\n   END IF;\r\n\r\n   DELETE FROM mvintegra.imv_configuracao_job j\r\n         WHERE NOT EXISTS (SELECT 1\r\n                             FROM mvintegra.imv_configuracao_saida\r\n                            WHERE (cd_configuracao_job_formatacao = j.cd_imv_configuracao_job OR cd_configuracao_job_envio = j.cd_imv_configuracao_job)) AND NOT EXISTS (SELECT 1\r\n                                                                                                                                                                           FROM mvintegra.imv_configuracao_tip_intg_cnct\r\n                                                                                                                                                                          WHERE cd_thread = j.cd_imv_configuracao_job);\r\n\r\n   COMMIT;\r\n   DBMS_OUTPUT.put_line (''Sucesso'');\r\nEXCEPTION\r\n   WHEN OTHERS\r\n   THEN\r\n      DBMS_OUTPUT.put_line (''Erro '' || SQLERRM);\r\n      ROLLBACK;\r\nEND;','\r',char(13)),'\n',char(10)),NULL,'2025-03-24 17:55:22','Script para deletar processo de integracao','drop','dbb0b1dc-ac46-4d7f-9ac3-83fcc899df59');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (5,replace(replace('DECLARE\r\n  CURSOR cParametros IS SELECT * FROM mvintegra.imv_configuracao_saida_param a\r\n    INNER JOIN mvintegra.imv_configuracao_saida b ON a.cd_imv_configuracao_saida = b.cd_imv_configuracao_saida\r\n    WHERE b.ds_saida like (''%RPS%'') OR b.ds_saida LIKE (''%NFSE%'');\r\n\r\n CURSOR cProcesso IS SELECT cd_imv_configuracao_saida,ds_saida,cd_sistema_destino,cd_configuracao_job_formatacao,cd_configuracao_job_envio,cd_imv_configuracao_job,ds_job\r\n  FROM mvintegra.imv_configuracao_saida a left  JOIN mvintegra.imv_configuracao_job b\r\n    ON a.cd_configuracao_job_formatacao = b.cd_imv_configuracao_job OR a.cd_configuracao_job_envio = b.cd_imv_configuracao_job\r\n     WHERE a.ds_saida like (''%RPS%'') OR a.ds_saida LIKE (''%NFSE%'');\r\n\r\n  contador NUMBER;\r\nBEGIN\r\n   contador := 0;\r\n   Dbms_Output.Put_Line(''-------------------- Contém espaços --------------------'');\r\n   FOR vParametros IN cParametros LOOP\r\n     IF (InStr(vParametros.ds_valor,'' '') > 0) THEN\r\n       contador := contador + 1;\r\n       vParametros.ds_valor := REPLACE(vParametros.ds_valor,'' '',''[*]'');\r\n       Dbms_Output.Put_Line(vParametros.ds_saida || ''  '' || vParametros.cd_imv_configuracao_saida_par || '' - ''\r\n       || vParametros.nm_parametro || '' -> '' || vParametros.ds_valor);\r\n     END IF;\r\n   END LOOP;\r\n\r\n   FOR vProcesso IN cProcesso LOOP\r\n    IF (InStr(vProcesso.ds_job,'' '') > 0) THEN\r\n       contador := contador + 1;\r\n      vProcesso.ds_job := REPLACE(vProcesso.ds_job,'' '',''[*]'');\r\n        Dbms_Output.Put_Line(vProcesso.ds_saida || ''  '' || ''Job -> '' || vProcesso.ds_job);\r\n    END IF;\r\n   END LOOP;\r\n   Dbms_Output.Put_Line(''------------------------ Resumo --------------------------'');\r\n\r\n   IF (contador > 0 )  THEN\r\n     Dbms_Output.Put_Line(contador || '' parametros contem espaços. O Simbolo [*] representa os espaços para melhor identificacao.'');\r\n   ELSE\r\n     Dbms_Output.Put_Line(''Nao existem parametros com espacos.'');\r\n   END IF;\r\nEND;','\r',char(13)),'\n',char(10)),NULL,'2025-03-24 17:55:22','Script para checar espacos','espaco','502cb9d2-6137-45f3-a0fa-3ed710dac554');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (6,replace(replace('\r\nCREATE SEQUENCE mvintegra.seq_temp_log\r\nMINVALUE 1\r\nMAXVALUE 999999999999999999999999999\r\nINCREMENT BY 1\r\nNOCYCLE\r\nNOORDER\r\nCACHE 60\r\n/\r\n\r\n\r\n/*\r\n CRIA TABELA E TRIGGER PARA MONITORAR OS TOMCATS\r\n*/\r\n\r\n\r\nCREATE TABLE mvintegra.user_tomcat (\r\n  id               NUMBER         NULL,\r\n  nm_machine       VARCHAR2(1000) NULL,\r\n  programa         VARCHAR2(500)  NULL,\r\n  dt_integracao    DATE           NULL,\r\n  origem           VARCHAR2(50)   NULL,\r\n  nm_usuario       VARCHAR2(100)  NULL,\r\n  cd_produto       NUMBER         NULL,\r\n  cd_identificador NUMBER(10,0)   NULL\r\n)\r\n\r\n\r\nSELECT * FROM mvintegra.user_tomcat\r\n\r\nCREATE OR REPLACE TRIGGER mvintegra.inclu_mens\r\nBEFORE  UPDATE ON mvintegra.imv_mensagem_saida_formatada\r\nREFERENCING\r\n NEW AS NEW\r\n OLD AS OLD\r\nFOR EACH ROW\r\nDECLARE\r\n  vMachine  VARCHAR2(60) :=NULL;\r\nBEGIN\r\n SELECT machine\r\n   INTO vMachine\r\n   FROM v$session\r\n   where audsid = userenv(''sessionid'');\r\n  INSERT INTO mvintegra.user_tomcat(id,nm_machine,dt_integracao)VALUES(mvintegra.seq_temp_log.nextval,vMachine,sysdate);\r\nEND;\r\n/\r\n\r\nDROP TABLE mvintegra.user_tomcat;\r\n\r\nDROP TRIGGER mvintegra.inclu_mens;','\r',char(13)),'\n',char(10)),NULL,'2025-03-24 17:55:22','Script para monitorar tomcats','monitora','502cb9d2-6137-45f3-a0fa-3ed710dac554');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (7,replace(replace('CREATE OR REPLACE TRIGGER mvintegra.trg_error_a02\r\nbefore UPDATE\r\nOF ds_erro\r\nON mvintegra.imv_mensagem_saida_formatada\r\nFOR EACH ROW\r\n\r\nBEGIN\r\n\r\n  IF (:new.ds_erro LIKE ''%A02%'' AND :new.tp_documento = ''LOTE_RPS_CONSULTA'') THEN\r\n   :new.ds_erro := NULL;\r\n   :new.tp_status := ''A'';\r\n   :new.dh_ultimo_envio := NULL;\r\n   :new.lo_retorno := NULL;\r\n   :new.dh_retorno := NULL;\r\n   :new.dh_semaforo := SYSDATE;\r\n\r\n  END IF;\r\n\r\nEND;\r\n','\r',char(13)),'\n',char(10)),NULL,'2025-03-25 11:47:53','Script para tratar erro A02","trg_error_a02','triggera02','2bd5a4c3-d15b-4b84-bdae-157b9c2c0e1d');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (8,replace(replace('-- XML PADRAO\r\nSELECT * FROM mvintegra.imv_config_entid_xml_proc_intg\r\nSELECT * FROM mvintegra.imv_configuracao_entidade_xml\r\nSELECT * FROM mvintegra.imv_configuracao_elemento_xml\r\nSELECT * FROM mvintegra.imv_configuracao_tip_intg_cnct\r\n\r\n-- JOB\r\nSELECT * FROM mvintegra.imv_configuracao_job\r\nSELECT * FROM mvintegra.imv_configuracao_funcao_conec\r\n\r\n-- FILA (JOB)\r\nSELECT * FROM mvintegra.imv_registro_job\r\n\r\n-- GRIDS\r\nSELECT * FROM mvintegra.imv_mensagem_saida_padrao\r\nSELECT * FROM mvintegra.imv_mensagem_saida_padrao_stat\r\nSELECT * FROM mvintegra.imv_mensagem_saida_formatada\r\n\r\n-- CONDICAO DE EXEC\r\nSELECT * FROM mvintegra.condicao_execucao\r\nSELECT * FROM mvintegra.imv_configuracao_condicao_env\r\nSELECT * FROM mvintegra.imv_configuracao_cond_env_tmp\r\n\r\n-- SAIDAS\r\nSELECT * FROM mvintegra.imv_configuracao_saida\r\nSELECT * FROM mvintegra.imv_configuracao_saida_tp_doc\r\nSELECT * FROM mvintegra.imv_configuracao_saida_param\r\n\r\n--ENTRADA\r\nSELECT * FROM mvintegra.imv_configuracao_requisicao\r\nSELECT * FROM mvintegra.imv_log_requisicao\r\n','\r',char(13)),'\n',char(10)),NULL,'2025-03-25 11:55:04','Principais selects agrupados','listatabelas','2bd5a4c3-d15b-4b84-bdae-157b9c2c0e1d');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (10,'mvn install:install-file -Dfile="D:\Usuarios\ngueno\Desktop\biblioteca.jar" -DgroupId="com.ngueno" -DartifactId="biblioteca" -Dversion="1.0.0" -Dpackaging="jar"',NULL,'2025-03-25 11:55:04','Instalar biblioteca no maven.','installlib','8f0086ea-853d-43fb-a976-c2c7ecc471d3');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (11,'INSERT INTO mvintegra.imv_configuracao_condicao_env VALUES (mvintegra.seq_imv_configuracao_cond_env.nextval,CD_MULTI_EMPRESA,CD_IMV_CONFIGURACAO_SAIDA,CD_IMV_CONFIGURACAO_ELEMEN_XML,''LOTE_RPS_CONSULTA'',''='',''16'');',NULL,'2025-03-25 11:55:04','Inserir condicao de execucao','addcondicao','bf3bc54d-6b60-46af-887f-836c51666355');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (12,'SELECT * FROM all_tab_columns WHERE column_name LIKE',NULL,'2025-03-25 11:55:04','Listar condicoes de execucao','listcondicao','bf3bc54d-6b60-46af-887f-836c51666355');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (13,replace(replace('select cd_detalhamento\r\n          ,ds_detalhamento\r\n          ,vl_tributo\r\n          ,vl_percentual\r\n          ,Sn_retido\r\n          ,Tp_Detalhamento\r\n     from (Select nota_fiscal_tributo.cd_detalhamento\r\n                 ,Tip_Detalhe.ds_detalhamento\r\n                 ,nota_fiscal_tributo.vl_tributo\r\n                 ,nota_fiscal_tributo.vl_percentual\r\n                 ,nota_fiscal_tributo.Sn_retido\r\n                 ,Tip_Detalhe.Tp_Detalhamento\r\n             From dbamv.nota_fiscal_tributo\r\n                 ,dbamv.Tip_Detalhe\r\n            Where nota_fiscal_tributo.Cd_Detalhamento = Tip_Detalhe.Cd_Detalhamento\r\n              and nota_fiscal_tributo.Cd_Nota_Fiscal  = nCdNotaFiscal  --> cd_nota_fiscal\r\n              and ''N'' = psnOperadora     --\r\n        union all\r\n           Select mvs_nota_fiscal_tributo.cd_detalhamento\r\n                 ,Tip_Detalhe.ds_detalhamento\r\n                 ,mvs_nota_fiscal_tributo.vl_tributo\r\n                 ,mvs_nota_fiscal_tributo.vl_percentual\r\n                 ,mvs_nota_fiscal_tributo.Sn_retido\r\n                 ,Tip_Detalhe.Tp_Detalhamento\r\n             From dbamv.mvs_nota_fiscal_tributo\r\n                 ,dbamv.Tip_Detalhe\r\n            Where mvs_nota_fiscal_tributo.Cd_Detalhamento = Tip_Detalhe.Cd_Detalhamento\r\n              and mvs_nota_fiscal_tributo.Cd_Nota_Fiscal  = nCdNotaFiscal --> cd_nota_fiscal\r\n              and ''S'' = psnOperadora )\r\n     order by Sn_retido;','\r',char(13)),'\n',char(10)),NULL,'2025-03-25 11:56:49','Cursor de tributo de nota fiscal','tributo','3621be92-11f0-4738-83bc-7feac4bb6a3f');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (14,'select replace(ds_url_servidor_html,''soul-product-workspace'',''soul-mv'') url from dbasgu.produto_sistema where cd_produto = ''APOIO''',NULL,'2025-03-25 12:00:09','Url do soul.','url','2bd5a4c3-d15b-4b84-bdae-157b9c2c0e1d');
INSERT INTO script (id,conteudo,data_atualizacao,data_criacao,descricao,titulo,autor_id) VALUES (15,replace(replace('Declare\r\n	vTipoDadoIMV	  sys.all_tab_columns.data_type%Type;\r\n	vTipoDadoESTRU	  mvintegra.imv_configuracao_elemento_xml.tp_elemento%Type;\r\n	vNomeServico	  mvintegra.imv_configuracao_entidade_xml.ds_integracao%Type;\r\n	vTipoFluxoServico mvintegra.imv_configuracao_entidade_xml.tp_fluxo%Type;\r\n	vNmColunaTabela	  mvintegra.imv_configuracao_elemento_xml.nm_coluna%Type;\r\nBegin\r\n\r\n	vNomeServico      := Upper(''LOTE_RPS_CONSULTA'');     /* CADASTRO_PACIENTE, MOVIMENTO_ATENDIMENTO */\r\n	vTipoFluxoServico := Upper(''S''); /* S-SaÃ­da / E-Entrada*/\r\n\r\n	For rXmlPadraoTipoDado In(Select UPPER(el.nm_coluna) nm_coluna\r\n	                                ,el.cd_imv_configuracao_entid_xml\r\n	                                ,el.cd_imv_configuracao_elemen_xml\r\n									,el.nm_elemento\r\n									,Decode(el.tp_elemento,''STRING'',''VARCHAR2'',''DECIMAL'',''NUMBER'',tp_elemento) tp_elemento\r\n									,atb.column_name\r\n									,atb.data_type\r\n								From mvintegra.imv_configuracao_entidade_xml e\r\n									,mvintegra.imv_configuracao_elemento_xml el\r\n									,sys.all_tab_columns atb\r\n							   Where e.ds_integracao=vNomeServico\r\n								 And e.tp_fluxo=vTipoFluxoServico\r\n								 And el.cd_imv_configuracao_entid_xml = e.cd_imv_configuracao_entid_xml\r\n								 And atb.owner                        = SubStr(e.nm_tabela,1,9)\r\n								 And atb.table_name                   = SubStr(e.nm_tabela,11,100)\r\n								 And UPPER(el.nm_coluna)              = atb.column_name\r\n								 And el.nm_elemento                   Is Not Null\r\n								 And el.tp_elemento                   <> atb.data_type) Loop\r\n\r\n		vTipoDadoIMV   := rXmlPadraoTipoDado.tp_elemento;\r\n		vTipoDadoESTRU := rXmlPadraoTipoDado.data_type;\r\n\r\n		If vTipoDadoIMV <> vTipoDadoESTRU Then\r\n			Dbms_Output.Put_Line(''AtenÃ§Ã£o: A coluna: ''||rXmlPadraoTipoDado.nm_coluna||'' esta com type de dados divergente do existente no banco de dados!'');\r\n			Dbms_Output.Put_Line(''CÃ³digo Entidade: ''||rXmlPadraoTipoDado.cd_imv_configuracao_entid_xml);\r\n			Dbms_Output.Put_Line(''CÃ³digo Elemento: ''||rXmlPadraoTipoDado.cd_imv_configuracao_elemen_xml);\r\n			Dbms_Output.Put_Line(''Nome Elemento Xml: ''||rXmlPadraoTipoDado.nm_elemento);\r\n			Dbms_Output.Put_Line(''Tipo de dados XML padrÃ£o: ''||vTipoDadoIMV);\r\n			Dbms_Output.Put_Line(''Tipo de dados no banco: ''||vTipoDadoESTRU);\r\n			Dbms_Output.Put_Line('' '');\r\n		End If;\r\n\r\n	End Loop;\r\n\r\n	For rColunaMapemanto In(Select e.cd_imv_configuracao_entid_xml\r\n	                              ,el.cd_imv_configuracao_elemen_xml\r\n								  ,el.nm_elemento\r\n								  ,UPPER(el.nm_coluna) nm_coluna\r\n								  ,e.nm_tabela\r\n							  From mvintegra.imv_configuracao_entidade_xml e\r\n								  ,mvintegra.imv_configuracao_elemento_xml el\r\n						     Where e.ds_integracao                  = vNomeServico\r\n							   And e.tp_fluxo                       = vTipoFluxoServico\r\n							   And el.cd_imv_configuracao_entid_xml = e.cd_imv_configuracao_entid_xml\r\n							   And UPPER(el.nm_coluna) Not In(Select atb.column_name\r\n															    From sys.all_tab_columns atb\r\n															   Where atb.owner      = SubStr(e.nm_tabela,1,9)\r\n															     And atb.table_name = SubStr(e.nm_tabela,11,100))) Loop\r\n		Dbms_Output.Put_Line(''CÃ³digo Entidade: ''||rColunaMapemanto.cd_imv_configuracao_entid_xml);\r\n	    Dbms_Output.Put_Line(''CÃ³digo Elemento: ''||rColunaMapemanto.cd_imv_configuracao_elemen_xml);\r\n		Dbms_Output.Put_Line(''AtenÃ§Ã£o: A coluna ''||rColunaMapemanto.nm_coluna||'' nÃ£o existe na tabela ''||rColunaMapemanto.nm_tabela||'' !'');\r\n		Dbms_Output.Put_Line(''Nome Elemento: ''||rColunaMapemanto.nm_elemento);\r\n		Dbms_Output.Put_Line('' '');\r\n\r\n	End Loop;\r\n\r\nEnd;','\r',char(13)),'\n',char(10)),NULL,'2025-03-25 12:00:09','Validar estrutura do xml.','verificaxml','3621be92-11f0-4738-83bc-7feac4bb6a3f');

INSERT INTO comentario (id,comentario,data_hora,autor_id,script_id) VALUES (5,'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and  like Aldus PageMaker including versions of Lorem Ipsum.','2025-03-24 18:21:29','8f0086ea-853d-43fb-a976-c2c7ecc471d3',1);
INSERT INTO comentario (id,comentario,data_hora,autor_id,script_id) VALUES (6,'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting,  software like Aldus PageMaker including versions of Lorem Ipsum.','2025-03-24 18:22:07','bf3bc54d-6b60-46af-887f-836c51666355',1);
INSERT INTO comentario (id,comentario,data_hora,autor_id,script_id) VALUES (7,'Lorem Ipsum is , and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.','2025-03-24 18:22:12','8f0086ea-853d-43fb-a976-c2c7ecc471d3',1);
INSERT INTO comentario (id,comentario,data_hora,autor_id,script_id) VALUES (8,'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s .','2025-03-24 18:52:17','3621be92-11f0-4738-83bc-7feac4bb6a3f',1);
INSERT INTO comentario (id,comentario,data_hora,autor_id,script_id) VALUES (9,'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer  into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.','2025-03-24 18:52:21','8f0086ea-853d-43fb-a976-c2c7ecc471d3',1);
INSERT INTO comentario (id,comentario,data_hora,autor_id,script_id) VALUES (10,'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining  Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.','2025-03-24 18:52:25','8f0086ea-853d-43fb-a976-c2c7ecc471d3',1);
INSERT INTO comentario (id,comentario,data_hora,autor_id,script_id) VALUES (11,'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer  centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.','2025-03-24 18:52:33','502cb9d2-6137-45f3-a0fa-3ed710dac554',1);
INSERT INTO comentario (id,comentario,data_hora,autor_id,script_id) VALUES (12,'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the  essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.','2025-03-24 19:23:22','dbb0b1dc-ac46-4d7f-9ac3-83fcc899df59',3);

INSERT INTO curtidas_comentarios (comentario_id, pessoa_id) values (10 ,'8f0086ea-853d-43fb-a976-c2c7ecc471d3')